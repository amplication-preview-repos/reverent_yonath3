datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model SocialAccount {
  createdAt  DateTime  @default(now())
  id         String    @id @default(cuid())
  platform   Platform? @relation(fields: [platformId], references: [id])
  platformId String?
  updatedAt  DateTime  @updatedAt
  user       User?     @relation(fields: [userId], references: [id])
  userId     String?
  username   String?
}

model Post {
  comments      Comment[]
  content       String?
  createdAt     DateTime  @default(now())
  id            String    @id @default(cuid())
  platform      Platform? @relation(fields: [platformId], references: [id])
  platformId    String?
  postContent   String?
  postCreatedAt DateTime?
  postPlatform  String?
  postUser      String?
  updatedAt     DateTime  @updatedAt
  user          User?     @relation(fields: [userId], references: [id])
  userId        String?
}

model Comment {
  commentContent   String?
  commentCreatedAt DateTime?
  commentPost      String?
  commentUser      String?
  content          String?
  createdAt        DateTime  @default(now())
  id               String    @id @default(cuid())
  post             Post?     @relation(fields: [postId], references: [id])
  postId           String?
  updatedAt        DateTime  @updatedAt
  user             User?     @relation(fields: [userId], references: [id])
  userId           String?
}

model Platform {
  createdAt      DateTime          @default(now())
  id             String            @id @default(cuid())
  name           EnumPlatformName?
  posts          Post[]
  socialAccounts SocialAccount[]
  updatedAt      DateTime          @updatedAt
}

model User {
  comments       Comment[]
  createdAt      DateTime        @default(now())
  email          String?         @unique
  firstName      String?
  id             String          @id @default(cuid())
  lastName       String?
  password       String
  posts          Post[]
  roles          Json
  socialAccounts SocialAccount[]
  uniqueUsername String?
  updatedAt      DateTime        @updatedAt
  userEmail      String?
  userPassword   String?
  username       String          @unique
}

enum EnumPlatformName {
  Option1
}
